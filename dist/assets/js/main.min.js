function Page(e){this.nowPage=e.length-1,this.lastPage=e.length,this.pages=e,this.pagesHeight=e.height(),this.endposition=[0,0],this.stop=!0,this.move=!1}function Draw(){}Page.prototype.slidedown=function(e){var t=this;this.pages.eq(e).animate({top:"0px"},500,"ease-out",function(){draw.context(t.pages.eq(e).data("id"),function(e){e.stop=!0})})},Page.prototype.slideup=function(e){var t=this;this.pages.eq(e).animate({top:-this.pagesHeight},500,"ease-out",function(){draw.context(t.pages.eq(e-1).data("id"),function(e){e.stop=!0})})},Page.prototype.login=function(){$(".login").eq(0).animate({top:-$(".login").height()+"px"},500,"ease-in")},Page.prototype.bind=function(){console.log("bind ok!");var e=this;this.pages.on("touchstart",function(t){console.log("touch start!"),(e.nowPage||0!==e.pages.eq(e.lastPage).length)&&e.stop&&isLogin&&(e.endposition=[],e.endposition.push(t.touches[0].pageX,t.touches[0].pageY))}).on("touchmove",function(t){var a=t.touches[0].pageY;e.move=!0,(e.nowPage||0!==e.pages.eq(e.lastPage).length)&&e.stop&&isLogin&&(a-e.endposition[1]<0&&e.nowPage?(e.moveDir="up",e.pages.eq(e.nowPage).css({top:parseFloat(e.pages.eq(e.nowPage).css("top"))+a-e.endposition[1]})):a-e.endposition[1]>0&&0!==e.pages.eq(e.lastPage).length&&(console.log(e.pages.eq(e.nowPage).css("top")),"0px"==e.pages.eq(e.nowPage).css("top")&&(e.moveDir="down",e.pages.eq(e.lastPage).css({top:parseFloat(e.pages.eq(e.lastPage).css("top"))+a-e.endposition[1]}))),e.endposition=[],e.endposition.push(t.touches[0].pageX,t.touches[0].pageY))}).on("touchend",function(t){e.move&&isLogin&&(e.move=!1,0!==e.pages.eq(e.lastPage).length&&e.stop&&"down"==e.moveDir&&(e.stop=!1,-parseInt(e.pages.eq(e.lastPage).css("top"))>3*e.pagesHeight/4?e.slideup(e.lastPage):-parseInt(e.pages.eq(e.lastPage).css("top"))<3*e.pagesHeight/4&&(e.slidedown(e.lastPage),e.nowPage+=1,e.lastPage+=1)),e.nowPage&&e.stop&&"up"==e.moveDir&&(e.stop=!1,-parseInt(e.pages.eq(e.nowPage).css("top"))>e.pagesHeight/4?(e.slideup(e.nowPage),e.nowPage-=1,e.lastPage-=1):-parseInt(e.pages.eq(e.nowPage).css("top"))<e.pagesHeight/4&&e.slidedown(e.nowPage)))})},Draw.prototype.drawSex=function(e){require(["echarts","echarts/chart/pie"],function(t){var a=t.init(document.getElementById(e)),o={color:["#ffa634","#fee147","#c4df42","#eeb623"],title:{text:"你所在学院的男女比例",subtext:"本数据由红岩网校工作站统计",x:"center",textStyle:{color:"#d87e1d",fontSize:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",x:"center",y:"bottom",data:["男生","女生","脱单","未脱单"]},toolbox:{show:!1},calculable:!1,series:[{name:"男女比例",type:"pie",selectedMode:"single",radius:[0,60],funnelAlign:"center",max:1548,itemStyle:{normal:{label:{position:"inner"},labelLine:{show:!1}}},data:[{value:data.sex.male,name:"男生"},{value:data.sex.female,name:"女生"}]},{name:"脱单比例",type:"pie",radius:[75,105],funnelAlign:"center",itemStyle:{normal:{label:{position:"outer"},labelLine:{show:!0,length:-5}}},data:[{value:data.sex.single,name:"脱单"},{value:data.sex.fff,name:"未脱单"}]}]};a.setOption(o)})},Draw.prototype.drawCome=function(e){require(["echarts","echarts/chart/pie"],function(t){var a=t.init(document.getElementById(e)),o={color:["#ffa634","#fee147","#c4df42","#eeb623"],title:{text:"新生中你的老乡比例",subtext:"本数据由红岩网校工作站统计",x:"center",textStyle:{color:"#d87e1d",fontSize:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",x:"center",y:"bottom",data:["你的老乡","其它省份","老乡男生","老乡女生"]},toolbox:{show:!1},calculable:!1,series:[{name:"老乡比例",type:"pie",selectedMode:"single",radius:[0,60],funnelAlign:"center",max:1548,itemStyle:{normal:{label:{position:"inner"},labelLine:{show:!1}}},data:[{value:data.from.hometown,name:"你的老乡"},{value:679,name:"其它省份"}]},{name:"老乡男女比例",type:"pie",radius:[75,105],funnelAlign:"center",itemStyle:{normal:{label:{position:"outer"},labelLine:{show:!0,length:-5}}},data:[{value:data.from.male,name:"老乡男生"},{value:data.from.female,name:"老乡女生"}]}]};a.setOption(o)})},Draw.prototype.drawSame=function(e){require(["echarts","echarts/chart/pie"],function(t){var a=t.init(document.getElementById(e)),o={color:["#ffa634","#fee147","#c4df42","#eeb623"],title:{text:"新生中和你同年同月的比例",subtext:"本数据由红岩网校工作站统计",x:"center",textStyle:{color:"#d87e1d",fontSize:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",x:"center",y:"bottom",data:["同年同月","其它"]},series:[{name:"毕业去向",type:"pie",radius:"55%",center:["50%","50%"],itemStyle:{normal:{label:{position:"inner"},labelLine:{show:!1}}},data:[{value:data.same.samemon,name:"同年同月"},{value:data.same.others,name:"其它"}]}]};a.setOption(o)})},Draw.prototype.drawHard=function(e){require(["echarts","echarts/chart/pie"],function(t){var a=t.init(document.getElementById(e)),o={color:["#ffa634","#fee147","#c4df42","#eeb623"],title:{text:"你所在学院学生心目中大一最难的科目",subtext:"本数据由红岩网校工作站统计，略有误差",x:"center",textStyle:{color:"#d87e1d",fontSize:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",x:"center",y:"bottom",data:[]},series:[{name:"最难科目",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:hard[data.collage].n1k,name:hard[data.collage].n1},{value:hard[data.collage].n2k,name:hard[data.collage].n2},{value:hard[data.collage].n3k,name:hard[data.collage].n3}]}]};a.setOption(o)})},Draw.prototype.drawFuture=function(e){require(["echarts","echarts/chart/pie"],function(t){var a=t.init(document.getElementById(e)),o={color:["#ffa634","#fee147","#c4df42","#eeb623"],title:{text:"你所在学院2015年毕业生毕业去向",subtext:"本数据由红岩网校工作站统计",x:"center",textStyle:{color:"#d87e1d",fontSize:20}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",x:"center",y:"bottom",data:["签约就业","升学出国","待就业","灵活就业"]},series:[{name:"毕业去向",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:future[data.collage].jy,name:"签约就业"},{value:future[data.collage].sx,name:"升学出国"},{value:future[data.collage].djy,name:"待就业"},{value:future[data.collage].lh,name:"灵活就业"}]}]};a.setOption(o)})},Draw.prototype.context=function(e,t){e&&this[e](e),t(page)};var page=new Page($(".page"));page.bind();var draw=new Draw;